(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{GjZr:function(t,e,i){"use strict";i.r(e),i.d(e,"SpecialityModule",function(){return j});var a=i("ofXK"),n=i("tyNb"),c=i("M9IT"),o=i("+0xr"),r=i("fXoL"),l=i("BzHt"),d=i("0IaG"),s=i("bTqV");let b=(()=>{class t{constructor(t,e,i){this.dialogRef=t,this.apiService=e,this.data=i}agreeBtn(){this.apiService.delEntity("Speciality",this.data.speciality_id).subscribe(t=>{"ok"===t.response&&this.dialogRef.close(t.response)},t=>{this.apiService.snackBarOpen()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(d.g),r.Ob(l.a),r.Ob(d.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-confirm-dialog"]],decls:12,vars:1,consts:[[1,"confirm-dialog"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","",1,"confirm-button"],["mat-button","","mat-dialog-close","",1,"decline"],["mat-button","",1,"agree",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"h1",1),r.Fc(2,"\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f"),r.Tb(),r.Ub(3,"div",2),r.Fc(4," \u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0441\u043f\u0435\u0446\u0456\u0430\u043b\u044c\u043d\u0456\u0441\u0442\u044c: "),r.Pb(5,"br"),r.Fc(6),r.Tb(),r.Ub(7,"div",3),r.Ub(8,"button",4),r.Fc(9,"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438"),r.Tb(),r.Ub(10,"button",5),r.cc("click",function(){return e.agreeBtn()}),r.Fc(11," \u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 "),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Cb(6),r.Hc(' "',e.data.speciality_name,'"? '))},directives:[d.h,d.e,d.c,s.b,d.d],styles:[".confirm-dialog[_ngcontent-%COMP%]{text-align:center}.confirm-button[_ngcontent-%COMP%]{display:flex;color:#fff;justify-content:center}.confirm-button[_ngcontent-%COMP%]   .decline[_ngcontent-%COMP%]{min-width:120px;background-color:#cfcfcf}.confirm-button[_ngcontent-%COMP%]   .decline[_ngcontent-%COMP%]:hover{background-color:#f03535}.confirm-button[_ngcontent-%COMP%]   .agree[_ngcontent-%COMP%]{min-width:120px;background-color:#07f}.confirm-button[_ngcontent-%COMP%]   .agree[_ngcontent-%COMP%]:hover{background-color:#2ebdff}"]}),t})();var p=i("3Pt+"),f=i("kmnG"),u=i("qFsG");function m(t,e){1&t&&(r.Ub(0,"div",8),r.Ub(1,"small"),r.Fc(2,"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u0443\u0441\u0442\u0438\u043c"),r.Tb(),r.Tb())}function g(t,e){1&t&&(r.Ub(0,"small"),r.Fc(1,"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u0443\u0441\u0442\u0438\u043c"),r.Tb())}function h(t,e){if(1&t&&(r.Ub(0,"small"),r.Fc(1),r.Tb()),2&t){const t=r.gc(2);r.Cb(1),r.Ic("\u041f\u043e\u043b\u0435 \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u043d\u0435 \u0431\u0456\u043b\u044c\u0448\u0435 ",t.form.get("speciality_code").errors.maxlength.requiredLength," \u0447\u0438\u0441\u0435\u043b , \u0443 \u0432\u0430\u0441: ",t.form.get("speciality_code").errors.maxlength.actualLength,"")}}function y(t,e){1&t&&(r.Ub(0,"small"),r.Fc(1," \u041f\u043e\u043b\u0435 \u043c\u043e\u0436\u0435 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 \u0442\u0456\u043b\u044c\u043a\u0438 \u0447\u0438\u0441\u043b\u0430 "),r.Tb())}function C(t,e){if(1&t&&(r.Ub(0,"div",8),r.Dc(1,g,2,0,"small",9),r.Dc(2,h,2,2,"small",9),r.Dc(3,y,2,0,"small",9),r.Tb()),2&t){const t=r.gc();r.Cb(1),r.lc("ngIf",t.form.get("speciality_code").errors.required),r.Cb(1),r.lc("ngIf",t.form.get("speciality_code").errors.maxlength),r.Cb(1),r.lc("ngIf",t.form.get("speciality_code").errors.pattern)}}let _=(()=>{class t{constructor(t,e,i,a){this.formBuilder=t,this.apiService=e,this.dialogRef=i,this.data=a}ngOnInit(){this.form=this.formBuilder.group({speciality_name:[this.data?this.data.speciality_name:"",[p.w.required]],speciality_code:[this.data?this.data.speciality_code:"",[p.w.required,p.w.maxLength(5),p.w.pattern("^[0-9]*$")]]})}editSpeciality(t){switch(t){case"update":this.updateSpeciality();break;case"add":this.addSpeciality()}}updateSpeciality(){this.apiService.updateEntity("Speciality",this.data.speciality_id,this.form.value).subscribe(t=>{this.dialogRef.close({res:t,str:"upd"})},t=>{this.apiService.snackBarOpen()})}addSpeciality(){this.apiService.addEntity("Speciality",this.form.value).subscribe(t=>{this.dialogRef.close({res:t,str:"added"})},t=>{this.apiService.snackBarOpen()})}onCancel(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(p.e),r.Ob(l.a),r.Ob(d.g),r.Ob(d.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-modal-form"]],decls:20,vars:6,consts:[[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","placeholder","Name","formControlName","speciality_name"],["class","validation",4,"ngIf"],["matInput","","placeholder","2134","formControlName","speciality_code"],[1,"confirm-dialog"],["mat-raised-button","","type","button",1,"decline",3,"click"],["mat-raised-button","","type","submit",1,"agree",3,"disabled"],[1,"validation"],[4,"ngIf"]],template:function(t,e){1&t&&(r.Ub(0,"form",0),r.cc("ngSubmit",function(){return e.editSpeciality(e.data?"update":"add")}),r.Ub(1,"h1"),r.Fc(2),r.Tb(),r.Ub(3,"mat-form-field",1),r.Ub(4,"mat-label"),r.Fc(5,"Name"),r.Tb(),r.Pb(6,"input",2),r.Dc(7,m,3,0,"div",3),r.Tb(),r.Pb(8,"br"),r.Ub(9,"mat-form-field",1),r.Ub(10,"mat-label"),r.Fc(11,"Code"),r.Tb(),r.Pb(12,"input",4),r.Dc(13,C,4,3,"div",3),r.Tb(),r.Pb(14,"br"),r.Ub(15,"div",5),r.Ub(16,"button",6),r.cc("click",function(){return e.onCancel()}),r.Fc(17," \u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438 "),r.Tb(),r.Ub(18,"button",7),r.Fc(19),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.lc("formGroup",e.form),r.Cb(2),r.Gc(e.data?"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0441\u043f\u0435\u0446\u0456\u0430\u043b\u044c\u043d\u0456\u0441\u0442\u044c":"\u0414\u043e\u0434\u0430\u0442\u0438 \u0441\u043f\u0435\u0446\u0456\u0430\u043b\u044c\u043d\u0456\u0441\u0442\u044c"),r.Cb(5),r.lc("ngIf",e.form.get("speciality_name").invalid&&e.form.get("speciality_name").touched),r.Cb(6),r.lc("ngIf",e.form.get("speciality_code").invalid&&e.form.get("speciality_code").touched),r.Cb(5),r.lc("disabled",e.form.invalid),r.Cb(1),r.Hc(" ",e.data?"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438":"\u0414\u043e\u0434\u0430\u0442\u0438"," "))},directives:[p.x,p.q,p.i,f.c,f.g,u.b,p.c,p.p,p.g,a.k,s.b],styles:["small[_ngcontent-%COMP%]{color:red}.example-form[_ngcontent-%COMP%]{max-width:500px;text-align:center}.example-full-width[_ngcontent-%COMP%]{width:100%}.confirm-dialog[_ngcontent-%COMP%]{display:flex;justify-content:center}.confirm-dialog[_ngcontent-%COMP%]   .decline[_ngcontent-%COMP%]{margin:3px;min-width:120px;background-color:#cfcfcf;color:#fff}.confirm-dialog[_ngcontent-%COMP%]   .decline[_ngcontent-%COMP%]:hover{background-color:#f03535;color:#fff}.confirm-dialog[_ngcontent-%COMP%]   .agree[_ngcontent-%COMP%]{margin:3px;min-width:120px;background-color:#07f;color:#fff}.confirm-dialog[_ngcontent-%COMP%]   .agree[_ngcontent-%COMP%]:disabled, .confirm-dialog[_ngcontent-%COMP%]   .agree[_ngcontent-%COMP%]:hover{background-color:#2ebdff;color:#fff}.confirm-dialog[_ngcontent-%COMP%]   .agree[_ngcontent-%COMP%]:disabled{cursor:not-allowed}"]}),t})(),S=(()=>{class t{constructor(t){this.dialog=t}openConfirmDialog(t){return this.dialogRef=this.dialog.open(b,{data:t,disableClose:!0})}createModal(t){return this.modalDialogRef=this.dialog.open(_,{data:t||"",autoFocus:!0,disableClose:!0})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(d.b))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var O=i("NFeN"),v=i("Qu3c");function P(t,e){1&t&&(r.Ub(0,"th",21),r.Fc(1,"ID"),r.Tb())}function w(t,e){if(1&t&&(r.Ub(0,"td",22),r.Fc(1),r.Tb()),2&t){const t=e.$implicit;r.Cb(1),r.Hc(" ",t.speciality_id," ")}}function T(t,e){1&t&&(r.Ub(0,"th",21),r.Fc(1,"\u041d\u0430\u0437\u0432\u0430"),r.Tb())}function M(t,e){if(1&t&&(r.Ub(0,"td",22),r.Fc(1),r.Tb()),2&t){const t=e.$implicit;r.Cb(1),r.Hc(" ",t.speciality_name," ")}}function U(t,e){1&t&&(r.Ub(0,"th",21),r.Fc(1,"\u041a\u043e\u0434"),r.Tb())}function k(t,e){if(1&t&&(r.Ub(0,"td",22),r.Fc(1),r.Tb()),2&t){const t=e.$implicit;r.Cb(1),r.Hc(" ",t.speciality_code," ")}}function F(t,e){1&t&&(r.Ub(0,"th",21),r.Fc(1,"\u0414\u0456\u044f"),r.Tb())}function D(t,e){if(1&t){const t=r.Vb();r.Ub(0,"td",23),r.Ub(1,"button",24),r.cc("click",function(){r.vc(t);const i=e.$implicit;return r.gc().editSpeciality(i)}),r.Ub(2,"mat-icon",25),r.Fc(3,"edit"),r.Tb(),r.Tb(),r.Ub(4,"button",26),r.cc("click",function(){r.vc(t);const i=e.$implicit;return r.gc().deleteSpeciality(i)}),r.Ub(5,"mat-icon",25),r.Fc(6,"delete"),r.Tb(),r.Tb(),r.Tb()}}function x(t,e){1&t&&r.Pb(0,"tr",27)}function I(t,e){1&t&&r.Pb(0,"tr",28)}function R(t,e){if(1&t&&(r.Ub(0,"tr",29),r.Ub(1,"td",30),r.Fc(2),r.Tb(),r.Tb()),2&t){r.gc();const t=r.sc(15);r.Cb(2),r.Hc(' \u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0437\u0430 \u0437\u0430\u0434\u0430\u043d\u0438\u043c \u0444\u0456\u043b\u044c\u0442\u0440\u043e\u043c "',t.value,'" ')}}const B=function(){return[10,15,20,25]};let H=(()=>{class t{constructor(t,e){this.apiService=t,this.dialogService=e,this.dataSource=new o.l,this.displayedColumns=["id","name","code","buttons"]}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}ngOnInit(){this.getSpeciality()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}getSpeciality(){this.apiService.getEntity("Speciality").subscribe(t=>this.dataSource.data=t,t=>{this.apiService.snackBarOpen()})}openModal(t){this.dialogService.createModal(t||"").afterClosed().subscribe(e=>{if(!e)return;const i=e.res[0];switch(e.str){case"upd":this.updateSpecialityView(t,i);break;case"added":this.addSpecialityView(i)}},t=>{this.apiService.snackBarOpen()})}addSpecialityView(t){this.dataSource.data=[...this.dataSource.data,t],this.dataSource.paginator.lastPage()}updateSpecialityView(t,e){this.dataSource.data=this.dataSource.data.map(i=>i.speciality_id===t.speciality_id?e:i)}editSpeciality(t){this.openModal(t)}deleteSpeciality(t){this.dialogService.openConfirmDialog(t).afterClosed().subscribe(e=>{"ok"===e&&(this.dataSource.data=this.dataSource.data.filter(e=>e.speciality_id!==t.speciality_id))},t=>{this.apiService.snackBarOpen()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(l.a),r.Ob(S))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-list-table"]],viewQuery:function(t,e){if(1&t&&r.zc(c.a,!0),2&t){let t;r.rc(t=r.dc())&&(e.paginator=t.first)}},decls:34,vars:5,consts:[[1,"speciality-head"],[1,"mat-h1","entity-title"],[1,"speciality-title-icon"],["mat-raised-button","","color","primary",3,"click"],[1,"entity-search-label"],[1,"entity-search-icon"],["matInput","","placeholder","\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0443",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","code"],["matColumnDef","buttons"],["mat-cell","","class","entity-operation-buttons",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",1,"paginator",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"entity-operation-buttons"],["mat-flat-button","","color","primary","matTooltip","\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0441\u043f\u0435\u0446\u0456\u0430\u043b\u044c\u043d\u0456\u0441\u0442\u044c",1,"entity-operation-button",3,"click"],[1,"entity-operation-icon"],["mat-flat-button","","color","primary","matTooltip","\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0441\u043f\u0435\u0446\u0456\u0430\u043b\u044c\u043d\u0456\u0441\u0442\u044c",1,"entity-operation-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"h1",1),r.Ub(2,"mat-icon",2),r.Fc(3," dns "),r.Tb(),r.Fc(4,"\u0421\u043f\u0435\u0446\u0456\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0456 "),r.Tb(),r.Ub(5,"button",3),r.cc("click",function(){return e.openModal()}),r.Ub(6,"mat-icon"),r.Fc(7,"add_circle"),r.Tb(),r.Fc(8," \u0414\u043e\u0434\u0430\u0442\u0438 \u0421\u043f\u0435\u0446\u0456\u0430\u043b\u044c\u043d\u0456\u0441\u0442\u044c "),r.Tb(),r.Tb(),r.Ub(9,"mat-form-field"),r.Ub(10,"mat-label",4),r.Ub(11,"mat-icon",5),r.Fc(12,"person_search"),r.Tb(),r.Fc(13," \u041f\u043e\u0448\u0443\u043a"),r.Tb(),r.Ub(14,"input",6,7),r.cc("keyup",function(t){return e.applyFilter(t)}),r.Tb(),r.Tb(),r.Ub(16,"div",8),r.Ub(17,"table",9),r.Sb(18,10),r.Dc(19,P,2,0,"th",11),r.Dc(20,w,2,1,"td",12),r.Rb(),r.Sb(21,13),r.Dc(22,T,2,0,"th",11),r.Dc(23,M,2,1,"td",12),r.Rb(),r.Sb(24,14),r.Dc(25,U,2,0,"th",11),r.Dc(26,k,2,1,"td",12),r.Rb(),r.Sb(27,15),r.Dc(28,F,2,0,"th",11),r.Dc(29,D,7,0,"td",16),r.Rb(),r.Dc(30,x,1,0,"tr",17),r.Dc(31,I,1,0,"tr",18),r.Dc(32,R,3,1,"tr",19),r.Tb(),r.Pb(33,"mat-paginator",20),r.Tb()),2&t&&(r.Cb(17),r.lc("dataSource",e.dataSource),r.Cb(13),r.lc("matHeaderRowDef",e.displayedColumns),r.Cb(1),r.lc("matRowDefColumns",e.displayedColumns),r.Cb(2),r.lc("pageSizeOptions",r.oc(4,B)))},directives:[O.a,s.b,f.c,f.g,u.b,o.k,o.c,o.e,o.b,o.g,o.j,o.h,c.a,o.d,o.a,v.a,o.f,o.i],styles:["table[_ngcontent-%COMP%]{width:100%}.add-speciality-btn[_ngcontent-%COMP%]{padding:10px;margin-top:10px;margin-bottom:10px;background-color:#07f;border:none;color:#fff}.add-speciality-btn[_ngcontent-%COMP%]:hover{background-color:#2ebdff;color:#fff;cursor:pointer}.add-speciality-btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}input.ng-valid[_ngcontent-%COMP%]{border:1px solid green}small[_ngcontent-%COMP%]{color:red}.speciality-head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:20px}.paginator[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}a[_ngcontent-%COMP%]:hover{color:red;cursor:pointer}.entity-title[_ngcontent-%COMP%]{display:flex;align-items:center}.entity-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:auto;height:auto}.entity-title[_ngcontent-%COMP%]   .speciality-title-icon[_ngcontent-%COMP%]{font-size:2rem;margin-right:.5rem}"]}),t})();var G=i("UKGz");const N=[{path:"",component:H}];let j=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[a.c,G.a,n.f.forChild(N)]]}),t})()}}]);