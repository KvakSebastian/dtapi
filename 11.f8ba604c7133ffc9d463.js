(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{sTaZ:function(t,e,n){"use strict";n.r(e),n.d(e,"FacultiesModule",function(){return H});var c=n("ofXK"),i=n("tyNb"),a=n("M9IT"),o=n("+0xr"),r=n("fXoL"),l=n("AytR"),s=n("tk/3"),d=n("dNgK");let b=(()=>{class t{constructor(t,e){this.http=t,this.snackBar=e}getEntity(t,e){return this.http.get(`${l.a.BASEURL}/${t}/getRecords/${e||""}`)}addEntity(t,e){return this.http.post(`${l.a.BASEURL}/${t}/insertData`,e)}delEntity(t,e){return this.http.get(`${l.a.BASEURL}/${t}/del/${e}`)}updateEntity(t,e,n){return this.http.post(`${l.a.BASEURL}/${t}/update/${e}`,n)}snackBarOpen(){return this.snackBar.open("\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a:(","",{duration:1500})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s.a),r.Yb(d.a))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=n("0IaG"),f=n("bTqV");let m=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.apiService=e,this.data=n}agreeBtn(){this.apiService.delEntity("Faculty",this.data.faculty_id).subscribe(t=>{"ok"===t.response&&this.dialogRef.close(t.response)},t=>{this.apiService.snackBarOpen()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(u.g),r.Ob(b),r.Ob(u.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-confirm-dialog"]],decls:11,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","",1,"confirm-button"],["mat-button","","mat-dialog-close","",1,"decline"],["mat-button","",1,"agree",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"h1",0),r.Fc(1,"\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f"),r.Tb(),r.Ub(2,"div",1),r.Fc(3," \u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442: "),r.Pb(4,"br"),r.Fc(5),r.Tb(),r.Ub(6,"div",2),r.Ub(7,"button",3),r.Fc(8,"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438"),r.Tb(),r.Ub(9,"button",4),r.cc("click",function(){return e.agreeBtn()}),r.Fc(10,"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"),r.Tb(),r.Tb()),2&t&&(r.Cb(5),r.Hc(' "',e.data.faculty_name,'"?\n'))},directives:[u.h,u.e,u.c,f.b,u.d],styles:[".confirm-button[_ngcontent-%COMP%]{display:flex;justify-content:center;color:#fff}.confirm-button[_ngcontent-%COMP%]   .decline[_ngcontent-%COMP%]{width:40%;background-color:#cfcfcf}.confirm-button[_ngcontent-%COMP%]   .decline[_ngcontent-%COMP%]:hover{background-color:#f03535}.confirm-button[_ngcontent-%COMP%]   .agree[_ngcontent-%COMP%]{width:40%;background-color:#07f}.confirm-button[_ngcontent-%COMP%]   .agree[_ngcontent-%COMP%]:hover{background-color:#2ebdff}"]}),t})();var p=n("3Pt+"),g=n("kmnG"),h=n("qFsG");function y(t,e){1&t&&(r.Ub(0,"div",8),r.Ub(1,"small"),r.Fc(2,"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u043c"),r.Tb(),r.Tb())}function C(t,e){1&t&&(r.Ub(0,"div",8),r.Ub(1,"small"),r.Fc(2,"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u043c"),r.Tb(),r.Tb())}let _=(()=>{class t{constructor(t,e,n,c){this.formBuilder=t,this.apiService=e,this.dialogRef=n,this.data=c}ngOnInit(){this.form=this.formBuilder.group({faculty_name:[this.data?this.data.faculty_name:"",[p.w.required]],faculty_description:[this.data?this.data.faculty_description:"",[p.w.required]]})}addFaculty(t){switch(t){case"update":this.apiService.updateEntity("Faculty",this.data.faculty_id,this.form.value).subscribe(t=>{this.dialogRef.close(t)},t=>{this.apiService.snackBarOpen()});break;case"add":this.apiService.addEntity("Faculty",this.form.value).subscribe(t=>this.dialogRef.close(t),t=>{this.apiService.snackBarOpen()})}}onCancel(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(p.e),r.Ob(b),r.Ob(u.g),r.Ob(u.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-modal-form"]],decls:20,vars:6,consts:[[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","placeholder","Name","formControlName","faculty_name"],["class","validation",4,"ngIf"],["matInput","","placeholder","Description","formControlName","faculty_description"],[1,"confirm-dialog"],["mat-raised-button","","type","button",1,"decline",3,"click"],["mat-raised-button","","type","submit",1,"agree",3,"disabled"],[1,"validation"]],template:function(t,e){1&t&&(r.Ub(0,"form",0),r.cc("ngSubmit",function(){return e.addFaculty(e.data?"update":"add")}),r.Ub(1,"h1"),r.Fc(2),r.Tb(),r.Ub(3,"mat-form-field",1),r.Ub(4,"mat-label"),r.Fc(5,"Name"),r.Tb(),r.Pb(6,"input",2),r.Dc(7,y,3,0,"div",3),r.Tb(),r.Pb(8,"br"),r.Ub(9,"mat-form-field",1),r.Ub(10,"mat-label"),r.Fc(11,"Description"),r.Tb(),r.Pb(12,"input",4),r.Dc(13,C,3,0,"div",3),r.Tb(),r.Pb(14,"br"),r.Ub(15,"div",5),r.Ub(16,"button",6),r.cc("click",function(){return e.onCancel()}),r.Fc(17," \u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438 "),r.Tb(),r.Ub(18,"button",7),r.Fc(19),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.lc("formGroup",e.form),r.Cb(2),r.Gc(e.data?"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442":"\u0414\u043e\u0434\u0430\u0442\u0438 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442"),r.Cb(5),r.lc("ngIf",e.form.get("faculty_name").invalid&&e.form.get("faculty_name").touched),r.Cb(6),r.lc("ngIf",e.form.get("faculty_description").invalid&&e.form.get("faculty_description").touched),r.Cb(5),r.lc("disabled",e.form.invalid),r.Cb(1),r.Hc(" ",e.data?"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438":"\u0414\u043e\u0434\u0430\u0442\u0438"," "))},directives:[p.x,p.q,p.i,g.c,g.g,h.b,p.c,p.p,p.g,c.k,f.b],styles:["small[_ngcontent-%COMP%]{color:red}.example-form[_ngcontent-%COMP%]{min-width:350px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.confirm-dialog[_ngcontent-%COMP%]{display:flex;justify-content:center}.confirm-dialog[_ngcontent-%COMP%]   .decline[_ngcontent-%COMP%]{margin-right:3px;width:40%;background-color:#cfcfcf;color:#fff}.confirm-dialog[_ngcontent-%COMP%]   .decline[_ngcontent-%COMP%]:hover{background-color:#f03535;color:#fff}.confirm-dialog[_ngcontent-%COMP%]   .agree[_ngcontent-%COMP%]{margin-left:3px;width:40%;background-color:#07f;color:#fff}.confirm-dialog[_ngcontent-%COMP%]   .agree[_ngcontent-%COMP%]:disabled, .confirm-dialog[_ngcontent-%COMP%]   .agree[_ngcontent-%COMP%]:hover{background-color:#2ebdff;color:#fff}.confirm-dialog[_ngcontent-%COMP%]   .agree[_ngcontent-%COMP%]:disabled{cursor:not-allowed}"]}),t})(),O=(()=>{class t{constructor(t){this.dialog=t}openConfirmDialog(t){return this.dialogRef=this.dialog.open(m,{data:t,disableClose:!0})}createModal(t){return this.modalDialogRef=this.dialog.open(_,{data:t||"",autoFocus:!0,disableClose:!0})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(u.b))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=n("NFeN");function P(t,e){1&t&&(r.Ub(0,"th",21),r.Fc(1,"ID"),r.Tb())}function w(t,e){if(1&t&&(r.Ub(0,"td",22),r.Fc(1),r.Tb()),2&t){const t=e.$implicit;r.Cb(1),r.Hc(" ",t.faculty_id," ")}}function M(t,e){1&t&&(r.Ub(0,"th",21),r.Fc(1,"\u041d\u0430\u0437\u0432\u0430"),r.Tb())}function F(t,e){if(1&t&&(r.Ub(0,"td",22),r.Fc(1),r.Tb()),2&t){const t=e.$implicit;r.Cb(1),r.Hc(" ",t.faculty_name," ")}}function U(t,e){1&t&&(r.Ub(0,"th",21),r.Fc(1,"\u041e\u043f\u0438\u0441"),r.Tb())}function T(t,e){if(1&t&&(r.Ub(0,"td",22),r.Fc(1),r.Tb()),2&t){const t=e.$implicit;r.Cb(1),r.Hc(" ",t.faculty_description," ")}}function k(t,e){1&t&&(r.Ub(0,"th",21),r.Fc(1,"\u0414\u0456\u044f"),r.Tb())}function S(t,e){if(1&t){const t=r.Vb();r.Ub(0,"td",23),r.Ub(1,"button",24),r.cc("click",function(){r.vc(t);const n=e.$implicit;return r.gc().editFaculty(n)}),r.Ub(2,"mat-icon"),r.Fc(3,"create"),r.Tb(),r.Tb(),r.Ub(4,"button",24),r.cc("click",function(){r.vc(t);const n=e.$implicit;return r.gc().deleteFaculty(n)}),r.Ub(5,"mat-icon"),r.Fc(6,"delete"),r.Tb(),r.Tb(),r.Tb()}}function D(t,e){1&t&&r.Pb(0,"tr",25)}function R(t,e){1&t&&r.Pb(0,"tr",26)}function x(t,e){if(1&t&&(r.Ub(0,"tr",27),r.Ub(1,"td",28),r.Fc(2),r.Tb(),r.Tb()),2&t){r.gc();const t=r.sc(15);r.Cb(2),r.Hc(' \u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0437\u0430 \u0437\u0430\u0434\u0430\u043d\u0438\u043c \u0444\u0456\u043b\u044c\u0442\u0440\u043e\u043c "',t.value,'" ')}}const B=function(){return[10,15,20,25]};let I=(()=>{class t{constructor(t,e){this.apiService=t,this.dialogService=e,this.dataSource=new o.l,this.displayedColumns=["id","name","description","buttons"]}ngOnInit(){this.getFaculty()}ngAfterViewInit(){this.paginator._intl.itemsPerPageLabel="\u0420\u044f\u0434\u043a\u0456\u0432 \u0443 \u0442\u0430\u0431\u043b\u0438\u0446\u0456",this.dataSource.paginator=this.paginator}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getFaculty(){this.apiService.getEntity("Faculty").subscribe(t=>this.dataSource.data=t,t=>{this.apiService.snackBarOpen()})}openModal(t){this.dialogService.createModal(t||"").afterClosed().subscribe(t=>t?this.getFaculty():"",t=>{this.apiService.snackBarOpen()})}editFaculty(t){this.openModal(t)}deleteFaculty(t){this.dialogService.openConfirmDialog(t).afterClosed().subscribe(e=>{"ok"===e&&(this.dataSource.data=this.dataSource.data.filter(e=>e.faculty_id!==t.faculty_id))},t=>{this.apiService.snackBarOpen()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(b),r.Ob(O))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-faculties-list"]],viewQuery:function(t,e){if(1&t&&r.zc(a.a,!0),2&t){let t;r.rc(t=r.dc())&&(e.paginator=t.first)}},decls:34,vars:5,consts:[[1,"entity-header"],[1,"mat-h1","entity-title"],[1,"entity-title-icon"],["mat-raised-button","","color","primary",3,"click"],[1,"entity-search-label"],[1,"entity-search-icon"],["matInput","","placeholder","\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0443",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","buttons"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",1,"paginator",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-flat-button","","color","primary",1,"operation-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"h1",1),r.Ub(2,"mat-icon",2),r.Fc(3," account_balance "),r.Tb(),r.Fc(4,"\u0424\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0438 "),r.Tb(),r.Ub(5,"button",3),r.cc("click",function(){return e.openModal()}),r.Ub(6,"mat-icon"),r.Fc(7,"add_circle"),r.Tb(),r.Fc(8," \u0414\u043e\u0434\u0430\u0442\u0438 \u0424\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 "),r.Tb(),r.Tb(),r.Ub(9,"mat-form-field"),r.Ub(10,"mat-label",4),r.Ub(11,"mat-icon",5),r.Fc(12,"person_search"),r.Tb(),r.Fc(13," \u041f\u043e\u0448\u0443\u043a"),r.Tb(),r.Ub(14,"input",6,7),r.cc("keyup",function(t){return e.applyFilter(t)}),r.Tb(),r.Tb(),r.Ub(16,"div",8),r.Ub(17,"table",9),r.Sb(18,10),r.Dc(19,P,2,0,"th",11),r.Dc(20,w,2,1,"td",12),r.Rb(),r.Sb(21,13),r.Dc(22,M,2,0,"th",11),r.Dc(23,F,2,1,"td",12),r.Rb(),r.Sb(24,14),r.Dc(25,U,2,0,"th",11),r.Dc(26,T,2,1,"td",12),r.Rb(),r.Sb(27,15),r.Dc(28,k,2,0,"th",11),r.Dc(29,S,7,0,"td",16),r.Rb(),r.Dc(30,D,1,0,"tr",17),r.Dc(31,R,1,0,"tr",18),r.Dc(32,x,3,1,"tr",19),r.Tb(),r.Pb(33,"mat-paginator",20),r.Tb()),2&t&&(r.Cb(17),r.lc("dataSource",e.dataSource),r.Cb(13),r.lc("matHeaderRowDef",e.displayedColumns),r.Cb(1),r.lc("matRowDefColumns",e.displayedColumns),r.Cb(2),r.lc("pageSizeOptions",r.oc(4,B)))},directives:[v.a,f.b,g.c,g.g,h.b,o.k,o.c,o.e,o.b,o.g,o.j,o.h,a.a,o.d,o.a,o.f,o.i],styles:["table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}input.ng-valid[_ngcontent-%COMP%]{border:1px solid green}small[_ngcontent-%COMP%]{color:red}.entity-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.entity-title[_ngcontent-%COMP%]{display:flex;align-items:center}.entity-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:auto;height:auto}.entity-title[_ngcontent-%COMP%]   .entity-title-icon[_ngcontent-%COMP%]{font-size:2rem;margin-right:.5rem}.operation-button[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;width:2.2rem;height:2.2rem;min-width:30px;margin:0 .5rem 0 0;padding:0 .4rem}.operation-button[_ngcontent-%COMP%]:last-child{margin:0}.operation-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;font-size:1.2rem}"]}),t})();var $=n("UKGz");const E=[{path:"",component:I}];let H=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[c.c,$.a,i.f.forChild(E)]]}),t})()}}]);